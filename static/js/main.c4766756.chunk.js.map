{"version":3,"sources":["Navbar.js","Main.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","className","href","target","rel","id","this","props","account","Component","Main","onSubmit","event","preventDefault","name","productName","value","createProduct","type","ref","input","placeholder","required","scope","products","map","product","key","toString","owner","purchased","price","onClick","console","log","requestProduct","requestCount","request","req","productID","toNumber","_k","purchaseProduct","App","state","productCount","loading","bind","a","loadWeb3","loadBlockchainData","window","ethereum","web3","Web3","enable","currentProvider","alert","eth","getAccounts","accounts","setState","myContract","Contract","from","gas","gasPrice","methods","call","getRequestCount","i","getRequest","send","once","receipt","rid","role","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4766756.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Navbar extends Component {\n\n  render() {\n    return (\n      <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n        <a\n          className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n          href=\"\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Lab Equipments \n        </a>\n        <ul className=\"navbar-nav px-3\">\n          <li className=\"nav-item text-nowrap d-none d-sm-none d-sm-block\">\n            <small className=\"text-white\"><span id=\"account\">{this.props.account}</span></small>\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n}\n\nexport default Navbar;\n","import React, { Component } from 'react';\n\nclass Main extends Component {\n\n  render() {\n    return (\n      <div id=\"content\">\n        <h1>Add Equipments</h1>\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          const name = this.productName.value\n          this.props.createProduct(name)\n        }}>\n          <div className=\"form-group mr-sm-2\">\n            <input\n              id=\"productName\"\n              type=\"text\"\n              ref={(input) => { this.productName = input }}\n              className=\"form-control\"\n              placeholder=\"Product Name\"\n              required />\n          </div>\n         \n          <button type=\"submit\" className=\"btn btn-primary\">Add Product</button>\n        </form>\n        <p>&nbsp;</p>\n        <h2>Equipments </h2>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Name</th>\n              \n              <th scope=\"col\">Owner</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody id=\"productList\">\n            { this.props.products.map((product, key) => {\n              return(\n                <tr key={key}>\n                  <th scope=\"row\">{product.id.toString()}</th>\n                  <td>{product.name}</td>\n                  <td>{product.owner}</td>\n                  <td>\n                    { !product.purchased\n                      ? <button\n                          name={product.id}\n                          value={product.price}\n                          onClick={(event) => {\n                             console.log(event.target.name)\n                            this.props.requestProduct(event.target.name)\n                          }}\n                        >\n                          Request\n                        </button>\n                      : null\n                    }\n                    </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n        <p>&nbsp;</p>\n\n\n        <h2>Requests </h2>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Name</th>\n              \n              <th scope=\"col\">Owner</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n           { this.props.requestCount>0\n                      ? \n                      \n          <tbody id=\"productList\">\n           { this.props.request.map((req, key) => {\n              return(\n                 <tr >\n               \n                  <th scope=\"row\">{key+1}</th>\n                  <td>{this.props.products[req.productID.toNumber()-1].name}</td>\n                  <td>{req.owner}</td>\n                  <td>\n                    { req.productID.toNumber()>0\n                      ? <button\n                          name={req.productID.toNumber()}\n                          onClick={(event) => {\n                            console.log(event.target.name)\n                            const _k=key+1;\n                            this.props.purchaseProduct(1,_k)\n                          }}\n                        >\n                          Accept\n                        </button>\n                      : null\n                    }\n                    </td>\n                    \n                  \n                </tr>\n\n\n\n\n                \n              )\n            })}\n               \n              \n          </tbody>\n\n            :null}\n        </table>\n        \n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import React, { Component } from 'react';\nimport Web3 from 'web3'\n\nimport './App.css';\nimport Navbar from './Navbar'\nimport Main from './Main'\n\nclass App extends Component {\n\n  async componentWillMount() {\n    await this.loadWeb3()\n    await this.loadBlockchainData()\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n      await window.ethereum.enable()\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n    }\n  }\n\n  async loadBlockchainData() {\n    const web3 = window.web3\n    // Load account\n    const accounts = await web3.eth.getAccounts()\n    this.setState({ account: accounts[0] })\n    console.log(this.state.account)\n\n// Contract.setProvider(new Web3.providers.HttpProvider('http://localhost:8545'));\nvar myContract =  new web3.eth.Contract([\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"string\",\n        \"name\": \"name\",\n        \"type\": \"string\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"ProductCreated\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"string\",\n        \"name\": \"name\",\n        \"type\": \"string\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"ProductPurchased\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"_name\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"createProduct\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_rcount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getRequest\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"productID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          }\n        ],\n        \"internalType\": \"struct Marketplace.Request\",\n        \"name\": \"\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"getRequestCount\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"productCount\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"products\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"string\",\n        \"name\": \"name\",\n        \"type\": \"string\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_rcount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"purchaseProduct\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"requestProduct\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"requests_wrapper\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"requestCount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }\n],\n    \"0x995dfde7b37d89a6eadfa99bdb3718bad965873e\",\n    { from : this.state.account,\n    gas: 1500000,\n    gasPrice: '30000000000'}\n);\n\n\n\n  this.setState({myContract})\n// myContract.methods.store(\"5\").send().then(function (output) { console.log(output) });\n   \n      const productCount = await myContract.methods.productCount().call({ from: this.state.account })      \n      this.setState({ productCount })\n      console.log(productCount)\n\n\n      //load request\n      const requestCount = await myContract.methods.getRequestCount().call({ from: this.state.account })\n      this.setState({ requestCount })\n      console.log(\"requestCount: \" + requestCount)\n      for (var i = 1; i <= requestCount; i++) {\n        const req = await myContract.methods.getRequest(i).call({ from: this.state.account })\n        this.setState({\n          request: [...this.state.request, req]\n        })\n      }\n\n      console.log(this.state.request)\n      // console.log(requestCount)\n\n\n      // // Load products\n\n      for (var i = 1; i <= productCount; i++) {\n        const product = await myContract.methods.products(i).call({ from: this.state.account })\n        this.setState({\n          products: [...this.state.products, product]\n        })\n      }\n      // const requesta = await marketplace.methods.getRequest().call({ from: this.state.account })\n      // this.setState({request: requesta})\n      // console.log(requesta.productID.toNumber()-1)\n       console.log(this.state.products)\n      this.setState({ loading: false})\n  //   } else {\n  //     window.alert('Marketplace contract not deployed to detected network.')\n  //   }\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      account: '',\n      productCount: 0,\n      products: [],\n      loading: true,\n      requestCount:0,\n      request:[]\n    }\n\n    this.createProduct = this.createProduct.bind(this)\n    this.purchaseProduct = this.purchaseProduct.bind(this)\n        this.requestProduct = this.requestProduct.bind(this)\n\n  }\n\n  createProduct(name) {\n    this.setState({ loading: true })\n    this.state.myContract.methods.createProduct(name).send({ from: this.state.account })\n    .once('receipt', (receipt) => {\n      this.setState({ loading: false })\n    })\n  }\n\n  purchaseProduct(id,rid) {\n    this.setState({ loading: true })\n    this.state.myContract.methods.purchaseProduct(1,rid).send({ from: this.state.account })\n    .once('receipt', (receipt) => {\n      console.log(receipt)\n      this.setState({ loading: false })\n    })\n  }\n  requestProduct(id) {\n    this.setState({ loading: true })\n    this.state.myContract.methods.requestProduct(id).send({ from: this.state.account })\n    .once('receipt', (receipt) => {\n      this.setState({ loading: false })\n    })\n  }\n\n\n  \n\n  render() {\n    return (\n      <div>\n        <Navbar account={this.state.account} />\n        <div className=\"container-fluid mt-5\">\n          <div className=\"row\">\n            <main role=\"main\" className=\"col-lg-12 d-flex\">\n              { this.state.loading\n                ? <div id=\"loader\" className=\"text-center\"><p className=\"text-center\">Loading...</p></div>\n                : <Main\n                createProduct={this.createProduct}\n                products={this.state.products}\n                requestProduct={this.requestProduct}\n                requestCount={this.state.requestCount}\n                request={this.state.request}\n                purchaseProduct={this.purchaseProduct}\n                  \n                  />\n              }\n            </main>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css'\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}